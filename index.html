<html>
  <head>

    <meta name="viewport" content="target-densitydpi=device-dpi, initial-scale=1.0, user-scalable=no" />  
    <style>
        html {
          overflow-y: hidden !important 
        }

        body {
            margin : 0px;
            background-color: transparent;
            background-repeat:no-repeat;
            font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; 
            font-weight: 300; 
            text-shadow: 0px 0px 1px #888;   

            font-size: 0.8em; 
            line-height: 1.2em; 
        }

        #viewport {
        position:relative;
        }
        #viewport canvas {
        position:absolute;
        }
        canvas {
        /**
        * Set transparent to let any other canvases render through
        */
        background-color: transparent;
        }

        #container{
        margin: 0px;
        max-width : 100%; 
        height: 100%; 
        padding: 0.8em;
        padding-top: 2em;
        /*background-color: #E6E6E6;*/

        background-image: url("http://itp.nyu.edu/~jj1357/animation/mobilebg.png");
        background-size:100% 100%;
        background-repeat:no-repeat;
        }

        #log {

        height : 30%;
        background-color: #FFFFFF;
        -moz-border-radius: 10px;
        -webkit-border-radius: 10px;
        -moz-box-shadow: inset 0 0 30px #444; 
        -webkit-box-shadow:inset 0 0 30px #444; 
        box-shadow:inset 0 0 30px #444; 
                   
        }
               

        #attack {
            margin: 0 auto 0 auto;
            background: url('http://itp.nyu.edu/~jhl589/bs/red.jpg') no-repeat;
            top: 10px;
            height: 200px;
        }

        #attack:active {
            background: url('http://itp.nyu.edu/~jhl589/bs/red-pressed.jpg') no-repeat;
        }

        #hide {
            margin: 0 auto 0 auto;
            background: url('http://itp.nyu.edu/~jhl589/bs/green.jpg') no-repeat;
            top: 10px;
            height: 200px;
        }

        #hide:active {
            background: url('http://itp.nyu.edu/~jhl589/bs/green-pressed.jpg') no-repeat;
        }

        button { 

        /*basic styles*/ 
        margin-top: 5%;
        margin-left: 90px;   
        width: 100px; 
        height: 100px; 
        color: #fff; 
        text-align: center; 
        font-size: 1.0em; 
        line-height: 1.2em; 
        /*gradient styles*/ /*border styles*/ 
        -moz-border-radius: 50px; 
        -webkit-border-radius: 50px; 
        border-radius: 50px; 
        float: left;
        /*shadow styles*/ 
        -moz-box-shadow: 2px 3px 5px #bfbfbf; 
        -webkit-box-shadow: 2px 3px 5px #bfbfbf; 
        box-shadow: 2px 3px 5px #bfbfbf; 
        }  

        button:hover { 
        -moz-box-shadow:inset 0 0 30px #444; 
        -webkit-box-shadow:inset 0 0 30px #444; 
        box-shadow:inset 0 0 30px #444; 
        } 

        #profile {
        margin-left : 20px;   
        position: absolute;
        }

        #profile img {
        height: 30%;      
        }        

        #textbox {
        width: 60%;
        height: 30%;
        max-width: 340px;
        margin-top: 20px;
        margin-right: 20px;
        position: relative;
        float: right;
        vertical-align: middle;
        }

        #middleobj1-s1{

            background-image: url("https://s3.amazonaws.com/grinchbg/midobj1_s1.png");
            background-color: transparent;
            width: 1413px;
            height: 540px;
            top: 135px;
            left: 1192px;
            position: absolute;

        }

        #middleobj2-s1{

            background-image: url("https://s3.amazonaws.com/grinchbg/midobj2_s1.png");
            background-color: transparent;
            width: 1916px;
            height: 500px;
            top: 243px;
            left: 1487px;
            position: absolute;

        }

        #middleobj3-s1{

            background-image: url("https://s3.amazonaws.com/grinchbg/midobj3_s1.png");
            background-color: transparent;
            width: 1621px;
            height: 415px;
            top: 444px;
            left: 1876px;
            position: absolute;

        }

        #middleobj4-s2{

            background-image: url("https://s3.amazonaws.com/grinchbg/midobj4_s2.png");
            background-color: transparent;
            width: 2371px;
            height: 339px;
            top: 93px;
            left: -185px;
            position: absolute;

        }

        #middleobj5-s2{

            background-image: url("https://s3.amazonaws.com/grinchbg/midobj5_s2.png");
            background-color: transparent;
            width: 2563px;
            height: 302px;
            top: 267px;
            left: 114px;
            position: absolute;

        }

        #middleobj6-s2{

            background-image: url("https://s3.amazonaws.com/grinchbg/midobj6_s2.png");
            background-color: transparent;
            width: 906px;
            height: 215px;
            top: 526px;
            left: 458px;
            position: absolute;

        }

        #middleobj7-s3{

            background-image: url("https://s3.amazonaws.com/grinchbg/midobj7_s3.png");
            background-color: transparent;
            width: 1401px;
            height: 480px;
            top: 323px;
            left: 643px;
            position: absolute;

        }

        #middleobj8-s3{

            background-image: url("https://s3.amazonaws.com/grinchbg/midobj8_s3.png");
            background-color: transparent;
            width: 1924px;
            height: 509px;
            top: 371px;
            left: -279px;
            position: absolute;

        }

        #topbg-s1{

            background-image: url("https://s3.amazonaws.com/grinchbg/top-screen1.png");
            background-color: transparent;
            width: 3840px;
            height: 1080px;
            top: 0px;
            left: 0px;
            position: absolute;

        }

        #topbg-s2{

            background-image: url("https://s3.amazonaws.com/grinchbg/top-screen2.png");
            background-color: transparent;
            width: 3840px;
            height: 1080px;
            top: 0px;
            left: 0px;
            position: absolute;

        }

        #topbg-s3{

            background-image: url("https://s3.amazonaws.com/grinchbg/top-screen3.png");
            background-color: transparent;
            width: 3840px;
            height: 1080px;
            top: 0px;
            left: 0px;
            position: absolute;

        }                

        #bottombg-s1{

            background-image: url("https://s3.amazonaws.com/grinchbg/bottom-screen1.jpg");
            background-color: transparent;
            width: 3840px;
            height: 1080px;
            top: 0px;
            left: 0px;
            position: absolute;

        }

        #bottombg-s2{

            background-image: url("https://s3.amazonaws.com/grinchbg/bottom-screen2.jpg");
            background-color: transparent;
            width: 3840px;
            height: 1080px;
            top: 0px;
            left: 0px;
            position: absolute;

        }

        #bottombg-s3{

            background-image: url("https://s3.amazonaws.com/grinchbg/bottom-screen3.jpg");
            background-color: transparent;
            width: 3840px;
            height: 1080px;
            top: 0px;
            left: 0px;
            position: absolute;

        }                
    
        #urlplate-s1{

            background-image: url("http://itp.nyu.edu/~jj1357/grinch_bg/screen1url.png");
            background-color: transparent;
            top: -25px;
            left: 938px;
            width: 455px;
            height: 250px;
            position: absolute;

        }
        #urlplate-s2{
            
            background-image: url("http://itp.nyu.edu/~jj1357/grinch_bg/screen2url.png");            
            background-color: transparent;
            top: 440px;
            left: 2090px;
            width: 455px;
            height: 250px;
            position: absolute;

        }

        #urlplate-s3{
            
            background-image: url("http://itp.nyu.edu/~jj1357/grinch_bg/screen3url.png");            
            background-color: transparent;
            top: -25px;
            left: 822px;
            width: 455px;
            height: 250px;
            position: absolute;

        }

        #grinch-s1{
            background-color: transparent;
            top: 600px;
            left: 2300px;
            position: absolute;
            
            -webkit-animation: slideone 30s infinite;
        }

        #grinch-s2{
            background-color: transparent;
            top: 600px;
            left: -1540px;
            position: absolute;       
            -webkit-animation: slidetwo 30s infinite;
        }

        #grinch-s3{
            background-color: transparent;
            top: 600px;
            left: -5380px;
            position: absolute;
           
            -webkit-animation: slidethree 30s infinite;
        }

        @-webkit-keyframes slideone {

            50% { left: 7680px; }

            100% { left: 2300px; }
        }
        @-webkit-keyframes slidetwo {

            50% { left: 3840px;}

            100% { left: -1540px; }

        }
        @-webkit-keyframes slidethree {

            50% { left: 0px;}

            100% { left: -5380px; }

        }

        #hats {

            position: absolute;

        }


      </style>
      <script type="text/javascript" charset="utf-8" src="http://o.aolcdn.com/dojo/1.1.1/dojo/dojo.xd.js"></script>
      <script src="/socket.io/socket.io.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>

      <script>

            var ballctx;
            var grinchctx;
            var id;
            var WIDTH;
            var HEIGHT;
            var dx, dy, dy2;
            var screenNum; 
            
            var icewalls = [];   

            var snowball = "http://itp.nyu.edu/~jyp323/ju/wp-content/uploads/2013/11/snowball.png";
            var smashed = "http://itp.nyu.edu/~jyp323/ju/wp-content/uploads/2013/11/smashedsnowball.png";
            var hideOn = false;
            var grinchIsOn = false;
            var grinchAttack = false;
            var bgisrendered;
            var numKilled = 0;

            //standard ==> 11520, 1080
            var absoluteGrinchLoc = {
                    section : 2,
                    x : 4600,
                    y : 580,
                    w : 2000,
                    h : 575
            };

            
            var grinchScreen1 = {
                    section: 1,
                    x : 0,
                    y : 0,
                    w : 0,
                    h : 0 
            };
            var grinchScreen2 = {
                    section: 2,
                    x : 0,
                    y : 0,
                    w : 0,
                    h : 0
            };
            var grinchScreen3 = {
                    section: 3,
                    x : 0,
                    y : 0,
                    w : 0,
                    h : 0
            };

            var playerList = [];

            var characterDic1 = [
            {
                "index":1,
                "section":1,
                "id":"null",
                "x":1254,
                "y":323,
                "w":85,
                "h":177,
                "bx":1299,
                "by":368,
                "r":10,
                "tx":3033,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":393,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_6-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_6-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_6-d.png"
                },
                {
                "index":2,
                "section":1,
                "id":"null",
                "x":1341,
                "y":313,
                "w":59,
                "h":145,
                "bx":1386,
                "by":358,
                "r":10,
                "tx":2766,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":383,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_18-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_18-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_18-d.png"
                },
                {
                "index":3,
                "section":1,
                "id":"null",
                "x":1384,
                "y":279,
                "w":66,
                "h":152,
                "bx":1429,
                "by":324,
                "r":10,
                "tx":3072,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":349,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_32-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_32-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_32-d.png"
                },
                {
                "index":4,
                "section":1,
                "id":"null",
                "x":1452,
                "y":237,
                "w":62,
                "h":148,
                "bx":1497,
                "by":282,
                "r":10,
                "tx":3127,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":307,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_55-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_55-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_55-d.png"
                },
                {
                "index":5,
                "section":1,
                "id":"null",
                "x":1508,
                "y":226,
                "w":81,
                "h":168,
                "bx":1553,
                "by":271,
                "r":10,
                "tx":2905,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":296,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_47-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_47-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_47-d.png"
                },
                {
                "index":6,
                "section":1,
                "id":"null",
                "x":1578,
                "y":191,
                "w":70,
                "h":184,
                "bx":1623,
                "by":236,
                "r":10,
                "tx":3062,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":261,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_12-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_12-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_12-d.png"
                },
                {
                "index":7,
                "section":1,
                "id":"null",
                "x":1635,
                "y":182,
                "w":85,
                "h":155,
                "bx":1680,
                "by":227,
                "r":10,
                "tx":2951,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":252,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_11-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_11-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_11-d.png"
                },
                {
                "index":8,
                "section":1,
                "id":"null",
                "x":1703,
                "y":146,
                "w":77,
                "h":177,
                "bx":1748,
                "by":191,
                "r":10,
                "tx":2603,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":216,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_20-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_20-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_20-d.png"
                },
                {
                "index":9,
                "section":1,
                "id":"null",
                "x":1774,
                "y":116,
                "w":84,
                "h":203,
                "bx":1819,
                "by":161,
                "r":10,
                "tx":3052,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":186,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_53-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_53-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_53-d.png"
                },
                {
                "index":10,
                "section":1,
                "id":"null",
                "x":1849,
                "y":84,
                "w":74,
                "h":227,
                "bx":1894,
                "by":129,
                "r":10,
                "tx":2824,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":154,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_54-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_54-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_54-d.png"
                },
                {
                "index":11,
                "section":1,
                "id":"null",
                "x":1925,
                "y":114,
                "w":60,
                "h":147,
                "bx":1970,
                "by":159,
                "r":10,
                "tx":2872,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":184,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_2-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_2-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_2-d.png"
                },
                {
                "index":12,
                "section":1,
                "id":"null",
                "x":1994,
                "y":106,
                "w":60,
                "h":152,
                "bx":2039,
                "by":151,
                "r":10,
                "tx":2783,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":176,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_4-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_4-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_4-d.png"
                },
                {
                "index":13,
                "section":1,
                "id":"null",
                "x":2044,
                "y":97,
                "w":96,
                "h":170,
                "bx":2089,
                "by":142,
                "r":10,
                "tx":2668,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":167,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_52-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_52-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_52-d.png"
                },
                {
                "index":14,
                "section":1,
                "id":"null",
                "x":2137,
                "y":88,
                "w":69,
                "h":160,
                "bx":2182,
                "by":133,
                "r":10,
                "tx":2989,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":158,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_51-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_51-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_51-d.png"
                },
                {
                "index":15,
                "section":1,
                "id":"null",
                "x":2190,
                "y":82,
                "w":98,
                "h":171,
                "bx":2235,
                "by":127,
                "r":10,
                "tx":3191,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":152,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_43-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_43-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_43-d.png"
                },
                {
                "index":16,
                "section":1,
                "id":"null",
                "x":2286,
                "y":78,
                "w":71,
                "h":144,
                "bx":2331,
                "by":123,
                "r":10,
                "tx":2719,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":148,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_3-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_3-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_3-d.png"
                },
                {
                "index":17,
                "section":1,
                "id":"null",
                "x":2346,
                "y":57,
                "w":72,
                "h":174,
                "bx":2391,
                "by":102,
                "r":10,
                "tx":2941,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":127,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_5-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_5-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_5-d.png"
                },
                {
                "index":18,
                "section":1,
                "id":"null",
                "x":2399,
                "y":95,
                "w":72,
                "h":146,
                "bx":2444,
                "by":140,
                "r":10,
                "tx":2785,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":165,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_9-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_9-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_9-d.png"
                },
                {
                "index":19,
                "section":1,
                "id":"null",
                "x":1499,
                "y":455,
                "w":64,
                "h":154,
                "bx":1544,
                "by":500,
                "r":10,
                "tx":2947,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":525,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_30-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_30-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_30-d.png"
                },
                {
                "index":20,
                "section":1,
                "id":"null",
                "x":1587,
                "y":418,
                "w":84,
                "h":186,
                "bx":1632,
                "by":463,
                "r":10,
                "tx":2767,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":488,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_7-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_7-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_7-d.png"
                },
                {
                "index":21,
                "section":1,
                "id":"null",
                "x":1643,
                "y":388,
                "w":89,
                "h":185,
                "bx":1688,
                "by":433,
                "r":10,
                "tx":2756,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":458,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_40-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_40-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_40-d.png"
                },
                {
                "index":22,
                "section":1,
                "id":"null",
                "x":1721,
                "y":377,
                "w":73,
                "h":167,
                "bx":1766,
                "by":422,
                "r":10,
                "tx":3113,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":447,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_44-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_44-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_44-d.png"
                },
                {
                "index":23,
                "section":1,
                "id":"null",
                "x":1780,
                "y":330,
                "w":78,
                "h":181,
                "bx":1825,
                "by":375,
                "r":10,
                "tx":3058,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":400,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_45-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_45-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_45-d.png"
                },
                {
                "index":24,
                "section":1,
                "id":"null",
                "x":1872,
                "y":347,
                "w":67,
                "h":117,
                "bx":1917,
                "by":392,
                "r":10,
                "tx":2717,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":417,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_48-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_48-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_48-d.png"
                },
                {
                "index":25,
                "section":1,
                "id":"null",
                "x":1937,
                "y":317,
                "w":76,
                "h":158,
                "bx":1982,
                "by":362,
                "r":10,
                "tx":2616,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":387,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_42-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_42-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_42-d.png"
                },
                {
                "index":26,
                "section":1,
                "id":"null",
                "x":2409,
                "y":263,
                "w":59,
                "h":126,
                "bx":1982,
                "by":308,
                "r":10,
                "tx":3062,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":333,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_23-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_23-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_23-d.png"
                },
                {
                "index":27,
                "section":1,
                "id":"null",
                "x":2496,
                "y":216,
                "w":57,
                "h":166,
                "bx":2454,
                "by":261,
                "r":10,
                "tx":3181,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":286,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_38-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_38-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_38-d.png"
                },
                {
                "index":28,
                "section":1,
                "id":"null",
                "x":2566,
                "y":218,
                "w":62,
                "h":161,
                "bx":2611,
                "by":263,
                "r":10,
                "tx":2883,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":288,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_39-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_39-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_39-d.png"
                },
                {
                "index":29,
                "section":1,
                "id":"null",
                "x":2619,
                "y":215,
                "w":86,
                "h":155,
                "bx":2664,
                "by":260,
                "r":10,
                "tx":2856,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":285,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_41-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_41-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_41-d.png"
                },
                {
                "index":30,
                "section":1,
                "id":"null",
                "x":2702,
                "y":196,
                "w":71,
                "h":156,
                "bx":2747,
                "by":241,
                "r":10,
                "tx":3103,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":266,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_37-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_37-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_37-d.png"
                },
                {
                "index":31,
                "section":1,
                "id":"null",
                "x":2754,
                "y":191,
                "w":92,
                "h":162,
                "bx":2799,
                "by":236,
                "r":10,
                "tx":2943,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":261,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_36-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_36-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_36-d.png"
                },
                {
                "index":32,
                "section":1,
                "id":"null",
                "x":2853,
                "y":160,
                "w":72,
                "h":177,
                "bx":2898,
                "by":205,
                "r":10,
                "tx":2791,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":230,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_17-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_17-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_17-d.png"
                },
                {
                "index":33,
                "section":1,
                "id":"null",
                "x":2934,
                "y":146,
                "w":69,
                "h":193,
                "bx":2979,
                "by":191,
                "r":10,
                "tx":2810,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":216,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_21-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_21-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_21-d.png"
                },
                {
                "index":34,
                "section":1,
                "id":"null",
                "x":3015,
                "y":178,
                "w":72,
                "h":149,
                "bx":3060,
                "by":223,
                "r":10,
                "tx":2875,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":248,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_31-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_31-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_31-d.png"
                },
                {
                "index":35,
                "section":1,
                "id":"null",
                "x":1902,
                "y":573,
                "w":66,
                "h":132,
                "bx":1947,
                "by":618,
                "r":10,
                "tx":2735,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":643,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_34-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_34-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_34-d.png"
                },
                {
                "index":36,
                "section":1,
                "id":"null",
                "x":1973,
                "y":516,
                "w":75,
                "h":171,
                "bx":2018,
                "by":561,
                "r":10,
                "tx":3181,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":586,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_13-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_13-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_13-d.png"
                },
                {
                "index":37,
                "section":1,
                "id":"null",
                "x":2043,
                "y":474,
                "w":91,
                "h":190,
                "bx":2088,
                "by":519,
                "r":10,
                "tx":2645,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":544,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_49-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_49-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_49-d.png"
                },
                {
                "index":38,
                "section":1,
                "id":"null",
                "x":2121,
                "y":456,
                "w":71,
                "h":165,
                "bx":2166,
                "by":501,
                "r":10,
                "tx":2715,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":526,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_46-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_46-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_46-d.png"
                },
                {
                "index":39,
                "section":1,
                "id":"null",
                "x":2182,
                "y":431,
                "w":91,
                "h":177,
                "bx":2227,
                "by":476,
                "r":10,
                "tx":2682,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":501,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_8-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_8-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_8-d.png"
                },
                {
                "index":40,
                "section":1,
                "id":"null",
                "x":2738,
                "y":441,
                "w":66,
                "h":133,
                "bx":2783,
                "by":486,
                "r":10,
                "tx":2796,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":511,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_19-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_19-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_19-d.png"
                },
                {
                "index":41,
                "section":1,
                "id":"null",
                "x":2811,
                "y":403,
                "w":76,
                "h":166,
                "bx":2856,
                "by":448,
                "r":10,
                "tx":3127,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":473,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_27-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_27-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_27-d.png"
                },
                {
                "index":42,
                "section":1,
                "id":"null",
                "x":2890,
                "y":369,
                "w":73,
                "h":177,
                "bx":2935,
                "by":414,
                "r":10,
                "tx":2696,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":439,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_16-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_16-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_16-d.png"
                },
                {
                "index":43,
                "section":1,
                "id":"null",
                "x":3175,
                "y":480,
                "w":67,
                "h":186,
                "bx":3220,
                "by":525,
                "r":10,
                "tx":3095,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":550,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_22-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_22-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_22-d.png"
                },
                {
                "index":44,
                "section":1,
                "id":"null",
                "x":3037,
                "y":341,
                "w":83,
                "h":177,
                "bx":3082,
                "by":386,
                "r":10,
                "tx":2651,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":411,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_26-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_26-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_26-d.png"
                },
                {
                "index":45,
                "section":1,
                "id":"null",
                "x":3122,
                "y":346,
                "w":75,
                "h":149,
                "bx":3167,
                "by":391,
                "r":10,
                "tx":2937,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":416,
                "standingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_28-s.png",
                "throwingurl":"http://s3-us-west-2.amazonaws.com/whodic/who_28-t.png",
                "killedurl":"http://s3-us-west-2.amazonaws.com/whodic/who_28-d.png"
}
            ];

            var characterDic2 = [
            {
                "index":1,
                "section":2,
                "id":"null",
                "x":65,
                "y":37,
                "w":64,
                "h":154,
                "bx":63,
                "by":92,
                "r":10,
                "tx":1232,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":107,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_30-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_30-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_30-d.png"
                },
                {
                "index":2,
                "section":2,
                "id":"null",
                "x":125,
                "y":82,
                "w":66,
                "h":132,
                "bx":139,
                "by":137,
                "r":10,
                "tx":863,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":152,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_34-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_34-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_34-d.png"
                },
                {
                "index":3,
                "section":2,
                "id":"null",
                "x":185,
                "y":25,
                "w":89,
                "h":185,
                "bx":218,
                "by":80,
                "r":10,
                "tx":877,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":95,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_40-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_40-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_40-d.png"
                },
                {
                "index":4,
                "section":2,
                "id":"null",
                "x":262,
                "y":51,
                "w":73,
                "h":167,
                "bx":291,
                "by":106,
                "r":10,
                "tx":1019,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":121,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_44-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_44-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_44-d.png"
                },
                {
                "index":5,
                "section":2,
                "id":"null",
                "x":326,
                "y":38,
                "w":78,
                "h":181,
                "bx":365,
                "by":93,
                "r":10,
                "tx":902,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":108,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_45-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_45-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_45-d.png"
                },
                {
                "index":6,
                "section":2,
                "id":"null",
                "x":400,
                "y":83,
                "w":67,
                "h":117,
                "bx":437,
                "by":138,
                "r":10,
                "tx":1011,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":153,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_48-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_48-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_48-d.png"
                },
                {
                "index":7,
                "section":2,
                "id":"null",
                "x":464,
                "y":41,
                "w":76,
                "h":158,
                "bx":507,
                "by":96,
                "r":10,
                "tx":920,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":111,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_42-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_42-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_42-d.png"
                },
                {
                "index":8,
                "section":2,
                "id":"null",
                "x":520,
                "y":56,
                "w":86,
                "h":155,
                "bx":587,
                "by":111,
                "r":10,
                "tx":1115,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":126,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_41-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_41-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_41-d.png"
                },
                {
                "index":9,
                "section":2,
                "id":"null",
                "x":605,
                "y":55,
                "w":62,
                "h":161,
                "bx":658,
                "by":110,
                "r":10,
                "tx":1051,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":125,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_39-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_39-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_39-d.png"
                },
                {
                "index":10,
                "section":2,
                "id":"null",
                "x":674,
                "y":49,
                "w":57,
                "h":166,
                "bx":740,
                "by":104,
                "r":10,
                "tx":1125,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":119,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_38-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_38-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_38-d.png"
                },
                {
                "index":11,
                "section":2,
                "id":"null",
                "x":731,
                "y":60,
                "w":71,
                "h":156,
                "bx":815,
                "by":115,
                "r":10,
                "tx":1281,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":130,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_37-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_37-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_37-d.png"
                },
                {
                "index":12,
                "section":2,
                "id":"null",
                "x":777,
                "y":48,
                "w":92,
                "h":162,
                "bx":894,
                "by":103,
                "r":10,
                "tx":889,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":118,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_36-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_36-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_36-d.png"
                },
                {
                "index":13,
                "section":2,
                "id":"null",
                "x":862,
                "y":66,
                "w":72,
                "h":149,
                "bx":973,
                "by":121,
                "r":10,
                "tx":1113,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":136,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_31-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_31-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_31-d.png"
                },
                {
                "index":14,
                "section":2,
                "id":"null",
                "x":938,
                "y":74,
                "w":59,
                "h":126,
                "bx":1055,
                "by":129,
                "r":10,
                "tx":939,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":144,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_23-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_23-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_23-d.png"
                },
                {
                "index":15,
                "section":2,
                "id":"null",
                "x":1002,
                "y":53,
                "w":72,
                "h":177,
                "bx":1138,
                "by":108,
                "r":10,
                "tx":933,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":123,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_17-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_17-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_17-d.png"
                },
                {
                "index":16,
                "section":2,
                "id":"null",
                "x":1072,
                "y":31,
                "w":69,
                "h":193,
                "bx":165,
                "by":86,
                "r":10,
                "tx":1242,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":101,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_21-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_21-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_21-d.png"
                },
                {
                "index":17,
                "section":2,
                "id":"null",
                "x":1144,
                "y":73,
                "w":66,
                "h":133,
                "bx":240,
                "by":128,
                "r":10,
                "tx":1053,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":143,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_19-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_19-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_19-d.png"
                },
                {
                "index":18,
                "section":2,
                "id":"null",
                "x":1206,
                "y":50,
                "w":76,
                "h":166,
                "bx":1226,
                "by":105,
                "r":10,
                "tx":1196,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":120,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_27-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_27-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_27-d.png"
                },
                {
                "index":19,
                "section":2,
                "id":"null",
                "x":1284,
                "y":40,
                "w":73,
                "h":177,
                "bx":1304,
                "by":95,
                "r":10,
                "tx":892,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":110,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_16-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_16-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_16-d.png"
                },
                {
                "index":20,
                "section":2,
                "id":"null",
                "x":1357,
                "y":31,
                "w":67,
                "h":186,
                "bx":1377,
                "by":86,
                "r":10,
                "tx":1046,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":101,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_22-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_22-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_22-d.png"
                },
                {
                "index":21,
                "section":2,
                "id":"null",
                "x":1427,
                "y":31,
                "w":83,
                "h":177,
                "bx":1447,
                "by":86,
                "r":10,
                "tx":874,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":101,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_26-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_26-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_26-d.png"
                },
                {
                "index":22,
                "section":2,
                "id":"null",
                "x":1506,
                "y":53,
                "w":75,
                "h":149,
                "bx":1526,
                "by":108,
                "r":10,
                "tx":1123,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":123,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_28-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_28-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_28-d.png"
                },
                {
                "index":23,
                "section":2,
                "id":"null",
                "x":1718,
                "y":109,
                "w":57,
                "h":141,
                "bx":1738,
                "by":164,
                "r":10,
                "tx":1046,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":179,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_24-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_24-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_24-d.png"
                },
                {
                "index":24,
                "section":2,
                "id":"null",
                "x":1775,
                "y":92,
                "w":77,
                "h":177,
                "bx":1795,
                "by":147,
                "r":10,
                "tx":1062,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":162,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_20-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_20-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_20-d.png"
                },
                {
                "index":25,
                "section":2,
                "id":"null",
                "x":1844,
                "y":118,
                "w":75,
                "h":151,
                "bx":1864,
                "by":173,
                "r":10,
                "tx":1121,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":188,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_29-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_29-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_29-d.png"
                },
                {
                "index":26,
                "section":2,
                "id":"null",
                "x":1920,
                "y":120,
                "w":63,
                "h":141,
                "bx":1940,
                "by":175,
                "r":10,
                "tx":865,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":190,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_25-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_25-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_25-d.png"
                },
                {
                "index":27,
                "section":2,
                "id":"null",
                "x":1992,
                "y":158,
                "w":61,
                "h":126,
                "bx":2012,
                "by":213,
                "r":10,
                "tx":1056,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":228,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_35-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_35-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_35-d.png"
                },
                {
                "index":28,
                "section":2,
                "id":"null",
                "x":2050,
                "y":152,
                "w":72,
                "h":125,
                "bx":2070,
                "by":207,
                "r":10,
                "tx":860,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":222,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_33-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_33-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_33-d.png"
                },
                {
                "index":29,
                "section":2,
                "id":"null",
                "x":146,
                "y":266,
                "w":59,
                "h":145,
                "bx":166,
                "by":321,
                "r":10,
                "tx":1282,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":336,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_18-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_18-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_18-d.png"
                },
                {
                "index":30,
                "section":2,
                "id":"null",
                "x":196,
                "y":266,
                "w":66,
                "h":152,
                "bx":216,
                "by":321,
                "r":10,
                "tx":1056,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":336,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_32-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_32-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_32-d.png"
                },
                {
                "index":31,
                "section":2,
                "id":"null",
                "x":270,
                "y":259,
                "w":62,
                "h":148,
                "bx":290,
                "by":359,
                "r":10,
                "tx":940,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":329,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_55-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_55-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_55-d.png"
                },
                {
                "index":32,
                "section":2,
                "id":"null",
                "x":327,
                "y":234,
                "w":81,
                "h":168,
                "bx":347,
                "by":334,
                "r":10,
                "tx":1059,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":304,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_47-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_47-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_47-d.png"
                },
                {
                "index":33,
                "section":2,
                "id":"null",
                "x":400,
                "y":210,
                "w":70,
                "h":184,
                "bx":420,
                "by":310,
                "r":10,
                "tx":903,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":280,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_12-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_12-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_12-d.png"
                },
                {
                "index":34,
                "section":2,
                "id":"null",
                "x":471,
                "y":227,
                "w":85,
                "h":155,
                "bx":491,
                "by":327,
                "r":10,
                "tx":1019,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":297,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_11-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_11-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_11-d.png"
                },
                {
                "index":35,
                "section":2,
                "id":"null",
                "x":667,
                "y":225,
                "w":85,
                "h":177,
                "bx":687,
                "by":325,
                "r":10,
                "tx":958,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":295,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_6-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_6-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_6-d.png"
                },
                {
                "index":36,
                "section":2,
                "id":"null",
                "x":756,
                "y":221,
                "w":78,
                "h":208,
                "bx":776,
                "by":321,
                "r":10,
                "tx":1259,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":291,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_1-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_1-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_1-d.png"
                },
                {
                "index":37,
                "section":2,
                "id":"null",
                "x":817,
                "y":216,
                "w":91,
                "h":177,
                "bx":837,
                "by":316,
                "r":10,
                "tx":1179,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":286,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_8-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_8-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_8-d.png"
                },
                {
                "index":38,
                "section":2,
                "id":"null",
                "x":903,
                "y":229,
                "w":75,
                "h":171,
                "bx":923,
                "by":329,
                "r":10,
                "tx":1242,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":299,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_13-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_13-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_13-d.png"
                },
                {
                "index":39,
                "section":2,
                "id":"null",
                "x":967,
                "y":219,
                "w":91,
                "h":190,
                "bx":987,
                "by":319,
                "r":10,
                "tx":1162,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":289,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_49-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_49-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_49-d.png"
                },
                {
                "index":40,
                "section":2,
                "id":"null",
                "x":1055,
                "y":240,
                "w":71,
                "h":165,
                "bx":1075,
                "by":340,
                "r":10,
                "tx":952,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":310,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_46-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_46-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_46-d.png"
                },
                {
                "index":41,
                "section":2,
                "id":"null",
                "x":1117,
                "y":216,
                "w":84,
                "h":186,
                "bx":1137,
                "by":316,
                "r":10,
                "tx":1065,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":286,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_7-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_7-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_7-d.png"
                },
                {
                "index":42,
                "section":2,
                "id":"null",
                "x":1183,
                "y":225,
                "w":105,
                "h":187,
                "bx":1203,
                "by":325,
                "r":10,
                "tx":1116,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":295,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_10-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_10-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_10-d.png"
                },
                {
                "index":43,
                "section":2,
                "id":"null",
                "x":1284,
                "y":254,
                "w":63,
                "h":135,
                "bx":1304,
                "by":354,
                "r":10,
                "tx":1191,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":324,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_14-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_14-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_14-d.png"
                },
                {
                "index":44,
                "section":2,
                "id":"null",
                "x":1348,
                "y":229,
                "w":84,
                "h":184,
                "bx":1368,
                "by":329,
                "r":10,
                "tx":1185,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":299,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_14-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_14-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_14-d.png"
                },
                {
                "index":45,
                "section":2,
                "id":"null",
                "x":1435,
                "y":264,
                "w":71,
                "h":147,
                "bx":1455,
                "by":364,
                "r":10,
                "tx":906,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":"FALSE\n",
                "yPosTarget":334,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_15-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_15-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_15-d.png"
                },
                {
                "index":46,
                "section":2,
                "id":"null",
                "x":552,
                "y":371,
                "w":84,
                "h":203,
                "bx":572,
                "by":471,
                "r":10,
                "tx":921,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":441,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_53-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_53-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_53-d.png"
                },
                {
                "index":47,
                "section":2,
                "id":"null",
                "x":637,
                "y":393,
                "w":74,
                "h":227,
                "bx":657,
                "by":493,
                "r":10,
                "tx":1091,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":463,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_54-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_54-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_54-d.png"
                },
                {
                "index":48,
                "section":2,
                "id":"null",
                "x":715,
                "y":419,
                "w":60,
                "h":147,
                "bx":735,
                "by":519,
                "r":10,
                "tx":929,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":489,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_2-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_2-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_2-d.png"
                },
                {
                "index":49,
                "section":2,
                "id":"null",
                "x":784,
                "y":415,
                "w":60,
                "h":152,
                "bx":804,
                "by":515,
                "r":10,
                "tx":969,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":485,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_4-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_4-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_4-d.png"
                },
                {
                "index":50,
                "section":2,
                "id":"null",
                "x":831,
                "y":405,
                "w":96,
                "h":170,
                "bx":851,
                "by":505,
                "r":10,
                "tx":1226,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":475,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_52-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_52-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_52-d.png"
                },
                {
                "index":51,
                "section":2,
                "id":"null",
                "x":924,
                "y":406,
                "w":69,
                "h":160,
                "bx":944,
                "by":506,
                "r":10,
                "tx":1004,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":476,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_51-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_51-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_51-d.png"
                },
                {
                "index":52,
                "section":2,
                "id":"null",
                "x":975,
                "y":411,
                "w":98,
                "h":171,
                "bx":995,
                "by":511,
                "r":10,
                "tx":940,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":481,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_43-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_43-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_43-d.png"
                },
                {
                "index":53,
                "section":2,
                "id":"null",
                "x":1074,
                "y":404,
                "w":71,
                "h":144,
                "bx":1094,
                "by":504,
                "r":10,
                "tx":1042,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":474,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_3-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_3-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_3-d.png"
                },
                {
                "index":54,
                "section":2,
                "id":"null",
                "x":1140,
                "y":393,
                "w":72,
                "h":174,
                "bx":1160,
                "by":493,
                "r":10,
                "tx":1046,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":463,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_5-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_5-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_5-d.png"
                },
                {
                "index":55,
                "section":2,
                "id":"null",
                "x":1198,
                "y":421,
                "w":72,
                "h":146,
                "bx":1218,
                "by":521,
                "r":10,
                "tx":1145,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":491,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_9-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_9-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_9-d.png"
                }
            ];
              

            var characterDic3 = [
            {
                "index":1,
                "section":3,
                "id":"null",
                "x":818,
                "y":208,
                "w":76,
                "h":158,
                "bx":815,
                "by":248,
                "r":10,
                "tx":97,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":278,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_42-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_42-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_42-d.png"
                },
                {
                "index":2,
                "section":3,
                "id":"null",
                "x":883,
                "y":220,
                "w":86,
                "h":155,
                "bx":880,
                "by":260,
                "r":10,
                "tx":50,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":290,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_41-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_41-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_41-d.png"
                },
                {
                "index":3,
                "section":3,
                "id":"null",
                "x":971,
                "y":225,
                "w":62,
                "h":161,
                "bx":968,
                "by":265,
                "r":10,
                "tx":106,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":295,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_39-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_39-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_39-d.png"
                },
                {
                "index":4,
                "section":3,
                "id":"null",
                "x":1047,
                "y":216,
                "w":57,
                "h":166,
                "bx":1044,
                "by":256,
                "r":10,
                "tx":62,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":286,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_38-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_38-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_38-d.png"
                },
                {
                "index":5,
                "section":3,
                "id":"null",
                "x":1119,
                "y":235,
                "w":71,
                "h":156,
                "bx":1116,
                "by":275,
                "r":10,
                "tx":85,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":305,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_37-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_37-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_37-d.png"
                },
                {
                "index":6,
                "section":3,
                "id":"null",
                "x":1177,
                "y":239,
                "w":92,
                "h":162,
                "bx":1174,
                "by":279,
                "r":10,
                "tx":130,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":309,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_36-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_36-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_36-d.png"
                },
                {
                "index":7,
                "section":3,
                "id":"null",
                "x":1267,
                "y":267,
                "w":72,
                "h":149,
                "bx":1264,
                "by":307,
                "r":10,
                "tx":140,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":337,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_31-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_31-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_31-d.png"
                },
                {
                "index":8,
                "section":3,
                "id":"null",
                "x":1337,
                "y":289,
                "w":75,
                "h":149,
                "bx":1334,
                "by":329,
                "r":10,
                "tx":105,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":359,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_28-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_28-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_28-d.png"
                },
                {
                "index":9,
                "section":3,
                "id":"null",
                "x":1412,
                "y":262,
                "w":72,
                "h":177,
                "bx":1409,
                "by":302,
                "r":10,
                "tx":146,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":332,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_17-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_17-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_17-d.png"
                },
                {
                "index":10,
                "section":3,
                "id":"null",
                "x":1388,
                "y":325,
                "w":59,
                "h":126,
                "bx":1385,
                "by":365,
                "r":10,
                "tx":102,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":395,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_23-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_23-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_23-d.png"
                },
                {
                "index":11,
                "section":3,
                "id":"null",
                "x":1558,
                "y":337,
                "w":66,
                "h":133,
                "bx":1555,
                "by":377,
                "r":10,
                "tx":65,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":407,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_19-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_19-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_19-d.png"
                },
                {
                "index":12,
                "section":3,
                "id":"null",
                "x":1617,
                "y":340,
                "w":73,
                "h":177,
                "bx":1614,
                "by":380,
                "r":10,
                "tx":104,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":410,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_16-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_16-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_16-d.png"
                },
                {
                "index":13,
                "section":3,
                "id":"null",
                "x":1692,
                "y":354,
                "w":76,
                "h":166,
                "bx":1689,
                "by":394,
                "r":10,
                "tx":121,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":424,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_27-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_27-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_27-d.png"
                },
                {
                "index":14,
                "section":3,
                "id":"null",
                "x":1768,
                "y":369,
                "w":67,
                "h":186,
                "bx":1765,
                "by":409,
                "r":10,
                "tx":147,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":439,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_22-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_22-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_22-d.png"
                },
                {
                "index":15,
                "section":3,
                "id":"null",
                "x":1825,
                "y":412,
                "w":69,
                "h":193,
                "bx":1822,
                "by":452,
                "r":10,
                "tx":80,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":482,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_21-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_21-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_21-d.png"
                },
                {
                "index":16,
                "section":3,
                "id":"null",
                "x":1904,
                "y":455,
                "w":92,
                "h":160,
                "bx":1901,
                "by":495,
                "r":10,
                "tx":89,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":525,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_33-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_33-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_33-d.png"
                },
                {
                "index":17,
                "section":3,
                "id":"null",
                "x":71,
                "y":302,
                "w":63,
                "h":135,
                "bx":68,
                "by":342,
                "r":10,
                "tx":71,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":372,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_14-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_14-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_14-d.png"
                },
                {
                "index":18,
                "section":3,
                "id":"null",
                "x":142,
                "y":263,
                "w":78,
                "h":208,
                "bx":139,
                "by":303,
                "r":10,
                "tx":99,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":333,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_1-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_1-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_1-d.png"
                },
                {
                "index":19,
                "section":3,
                "id":"null",
                "x":217,
                "y":294,
                "w":91,
                "h":177,
                "bx":214,
                "by":334,
                "r":10,
                "tx":68,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":364,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_8-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_8-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_8-d.png"
                },
                {
                "index":20,
                "section":3,
                "id":"null",
                "x":308,
                "y":305,
                "w":75,
                "h":171,
                "bx":305,
                "by":345,
                "r":10,
                "tx":117,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":375,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_13-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_13-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_13-d.png"
                },
                {
                "index":21,
                "section":3,
                "id":"null",
                "x":384,
                "y":302,
                "w":91,
                "h":190,
                "bx":381,
                "by":342,
                "r":10,
                "tx":104,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":372,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_49-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_49-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_49-d.png"
                },
                {
                "index":22,
                "section":3,
                "id":"null",
                "x":469,
                "y":329,
                "w":71,
                "h":165,
                "bx":466,
                "by":369,
                "r":10,
                "tx":99,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":399,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_46-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_46-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_46-d.png"
                },
                {
                "index":23,
                "section":3,
                "id":"null",
                "x":539,
                "y":319,
                "w":84,
                "h":186,
                "bx":536,
                "by":359,
                "r":10,
                "tx":126,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":389,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_7-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_7-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_7-d.png"
                },
                {
                "index":24,
                "section":3,
                "id":"null",
                "x":612,
                "y":337,
                "w":84,
                "h":184,
                "bx":609,
                "by":377,
                "r":10,
                "tx":117,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":407,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_50-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_50-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_50-d.png"
                },
                {
                "index":25,
                "section":3,
                "id":"null",
                "x":684,
                "y":342,
                "w":105,
                "h":187,
                "bx":681,
                "by":382,
                "r":10,
                "tx":109,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":412,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_10-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_10-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_10-d.png"
                },
                {
                "index":26,
                "section":3,
                "id":"null",
                "x":1146,
                "y":453,
                "w":62,
                "h":153,
                "bx":1143,
                "by":493,
                "r":10,
                "tx":125,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":523,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_24-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_24-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_24-d.png"
                },
                {
                "index":27,
                "section":3,
                "id":"null",
                "x":1224,
                "y":443,
                "w":84,
                "h":193,
                "bx":1221,
                "by":483,
                "r":10,
                "tx":93,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":513,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_20-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_20-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_20-d.png"
                },
                {
                "index":28,
                "section":3,
                "id":"null",
                "x":1313,
                "y":499,
                "w":81,
                "h":164,
                "bx":1310,
                "by":539,
                "r":10,
                "tx":110,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":569,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_29-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_29-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_29-d.png"
                },
                {
                "index":29,
                "section":3,
                "id":"null",
                "x":1378,
                "y":539,
                "w":68,
                "h":153,
                "bx":1375,
                "by":579,
                "r":10,
                "tx":88,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":609,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_25-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_25-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_25-d.png"
                },
                {
                "index":30,
                "section":3,
                "id":"null",
                "x":1468,
                "y":591,
                "w":70,
                "h":145,
                "bx":null,
                "by":631,
                "r":10,
                "tx":106,
                "ty":700,
                "attack":false,
                "throwing":false,
                "hide":false,
                "killed":false,
                "yPosTarget":661,
                "standingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_35-s.png",
                "throwingurl":"https://s3-us-west-2.amazonaws.com/whodic/who_35-t.png",
                "killedurl":"https://s3-us-west-2.amazonaws.com/whodic/who_35-d.png"
                }
            ];


            //Ju's
            //var socket = io.connect('http://ec2-54-200-42-18.us-west-2.compute.amazonaws.com:8080/');
            //Jess's
            var socket = io.connect('http://ec2-54-200-79-16.us-west-2.compute.amazonaws.com:8080/');
            
            var path = window.location.pathname;
            var role = null;

            socket.on('connect', function(){

            id = socket.socket.sessionid;   

            if(path == '/display1') {
                role = 'display1';
                screenNum = 1;
            } else if(path == '/display2') {
                role = 'display2';
                screenNum = 2;
            } else if(path == '/display3') {
                role = 'display3';
                screenNum = 3;
            } else if(path == '/1') {
                role = 'user_group1';
                guiInit(role);
                screenNum = 1;
            } else if(path == '/2') {
                role = 'user_group2';
                guiInit(role);
                screenNum = 2;
            } else if(path == '/3') {
                role = 'user_group3';
                guiInit(role);
                screenNum = 3;
            } else if(path == '/grinch') {
                console.log("I'm the grinch");
                role = 'grinch';
                guiInit(role);
            }       
                    
            socket.emit('register',role);
            
            });
            
            socket.on('render', function (data){
                // draw user on the screen! 
                if(data.role === "display1" || data.role === "display2" || data.role === "display3"){                                    
                    init(); 
                                
                }else if( data.role === "user_group1" || data.role === "user_group2" || data.role === "user_group3"){

                    getPlayerData(screenNum, data);

                } else if(data.role === "grinch"){
                   // calibrateGrinchLoc();
                    var grinchDiv = document.createElement("div");
                    grinchDiv.setAttribute('id', 'grinchDiv');
                    document.body.appendChild(grinchDiv);  

                    if(screenNum === 1){
                        $("#grinchDiv").append('<div id = "grinch-s1"><img src ="http://itp.nyu.edu/~jj1357/grinchimages/grinch.png" alt="" width="1900px" height="600px"/></div>'); 

                    } else if(screenNum === 2){
                        $("#grinchDiv").append('<div id = "grinch-s2"><img src ="http://itp.nyu.edu/~jj1357/grinchimages/grinch.png" alt="" width="1900px" height="600px"/></div>'); 
                       
                    } else if(screenNum === 3){
                        $("#grinchDiv").append('<div id = "grinch-s3"><img src ="http://itp.nyu.edu/~jj1357/grinchimages/grinch.png" alt="" width="1900px" height="600px"/></div>'); 
                    }

                    
                  
                        
                }
            });
            

            socket.on('renderThrow', function (data){


                for(var i =0; i<playerList.length; i++){
                    if(playerList[i].id == data.id && playerList[i].section == data.section){
                        playerList[i].attack = true;
                        var currentPlayer = document.getElementById(playerList[i].id);
                        currentPlayer.src = playerList[i].throwingurl;

                    }
                }
                 
            });

            socket.on('renderHide', function (data){


                for(var i =0; i<playerList.length; i++){
                    if(playerList[i].id == data.id && playerList[i].section == data.section){
                        playerList[i].hide = true;
                     
                    }
                }
                 
            });


            socket.on('hideOn', function (){
                hideOn = true;
                console.log(hideOn);
          
            });

            socket.on('hideOff', function (){

                hideOn = false;
                console.log(hideOn);
          
            });

            socket.on('kill', function (section){

                grinchAttack = true;
                killUsers();
                   
            });

            socket.on('killUsers', function (section){
                console.log("grinch Pressed: " + section);
                //console.log(hideOn);
                gameOver();
                
                
            });

            socket.on('renderPlayerImage', function (data){

                var userimage = document.getElementById("playerimg");
                userimage.src = data.url;
                var profile = document.getElementById("profile");
                profile.appendChild(userimage);
                        

            });

            socket.on('displayPlayer', function (data){

                
                var firstlinediv = document.getElementById("firstlineplayer");
                var secondlinediv = document.getElementById("secondlineplayer");
                var thirdlinediv = document.getElementById("thirdlineplayer");

                var newPlayer = document.createElement("img");
                newPlayer.src = data.url;
                newPlayer.id = data.id;
                newPlayer.width = data.width;
                newPlayer.height = data.height;
                newPlayer.style.position = "absolute";
                newPlayer.style.left = data.left;
                newPlayer.style.top = data.top;
                
                if(data.section === 1){

                    if(data.index < 19) firstlinediv.appendChild(newPlayer);
                    else if(data.index > 34) thirdlinediv.appendChild(newPlayer);
                    else secondlinediv.appendChild(newPlayer);
               
                }else if(data.section === 2){

                    if(data.index < 29) firstlinediv.appendChild(newPlayer);
                    else if(data.index > 45) thirdlinediv.appendChild(newPlayer);
                    else secondlinediv.appendChild(newPlayer);
                      
                }else if(data.section === 3){

                    if(data.index < 17) firstlinediv.appendChild(newPlayer);
                    else secondlinediv.appendChild(newPlayer);
                      
                }


            });

            function finish(){
                if(screenNum === 1){
                    window.location.replace("http://ec2-54-200-42-18.us-west-2.compute.amazonaws.com:8080/ending1");
                }else if(screenNum === 2){
                    window.location.replace("http://ec2-54-200-42-18.us-west-2.compute.amazonaws.com:8080/ending2");
                }else if(screenNum === 3){
                    window.location.replace("http://ec2-54-200-42-18.us-west-2.compute.amazonaws.com:8080/ending3");
                }
            };

            socket.on('clock', function (){
                console.log("clock called");
                setTimeout('finish()', 60000);
            });

            function dojoInit() {
                dojo.addOnLoad(function(){

                var attackBtn = dojo.byId("attack"); 
                var hideBtn = dojo.byId("hide"); 

                var dragging = false;
                var sizing = false;
                var rotating = 0;

                function touch(evt){
                    
                    dojo.forEach(evt.changedTouches, function(e){

                        e.preventDefault(); 

                        var target = e.target;

                        if(target == hideBtn || target == attackBtn){
                            
                            if(!dragging) {
                                // Save the offset of the touch within the current note 
                                dragging = [e.pageX - dojo.style(node, "left"), e.pageY - dojo.style(node, "top")]; 
                            }
                        }
                    }); 
                }


                function touchend(evt){

                    dojo.forEach(evt.changedTouches, function(e){
                        
                        var target = e.target;

                        if(target == hideBtn){
                            attackPressed(screenNum);
                        } else if(target == attackBtn) {
                            hidePressed(screenNum);
                        }

                        // Check to see if we've gone from a gesture back down to a touch
                        if(e.target == attackBtn || e.target == hideBtn){
                            if (evt.targetTouches.length == 1) { 
                                // If there was rotation, this number needs to be reset 
                                dragging = [evt.targetTouches[0].pageX - dojo.style(node, "left"), evt.targetTouches[0].pageY - dojo.style(node, "top")]; 
                            } else if (!evt.targetTouches.length) { 
                                dragging = false; 
                            }
                        }
                    });
                }


                function touchmove(evt){

                    evt.preventDefault();
                    dojo.forEach(evt.changedTouches, function(e){

                        if(e.target == attackBtn || e.target == hideBtn){
                            // Move the node if we're in a state of dragging, but not resizing  
                            
                            // document.getElementById('debug').innerHTML = e.pageX + " , " + e.pageY;

                            dojo.style(e.target, {
                                left: e.pageX - dragging[0] + "px",
                                top: e.pageY - dragging[1] + "px"
                            });
                        }
                    });

                }

                dojo.connect(dojo.doc, "ontouchstart", touch);
                dojo.query("div").connect("ontouchmove", touchmove);
                dojo.connect(dojo.doc, "ontouchend", touchend);
            });
            };

            function guiInit(role){

                var container=document.createElement("div");
                    container.setAttribute('id', 'container');
                    container.setAttribute("width", "320");
                    container.setAttribute("height", "480");
                    document.body.appendChild(container); 


                    if(role === "grinch"){

                        var log = document.createElement("div");
                        log.setAttribute('id','log');
                        var profile = document.createElement("div");
                        profile.setAttribute('id', 'profile');
                        var userimage = document.createElement("img");
                        userimage.src = "http://www.vectorsland.com/imgd/l56756-the-grinch-logo-65964.png"
                        var textbox = document.createElement("div");
                        textbox.setAttribute('id','textbox');
                        textbox.innerHTML = "You're the Grinch! Press the button and attack one section of whoville! ";
                        
                        profile.appendChild(userimage);
                        log.appendChild(profile);
                        log.appendChild(textbox);
                        container.appendChild(log)

                        var attack1 = document.createElement("button");
                        attack1.setAttribute('id','attack');
                        attack1.setAttribute('onclick', 'attackScreen(1);');
                        attack1.innerHTML = "Attack land 1!";
                        container.appendChild(attack1);

                        var attack2 = document.createElement("button");
                        attack2.setAttribute('id','attack');
                        attack2.setAttribute('onclick', 'attackScreen(2);');
                        attack2.innerHTML = "Attack land 2!";
                        container.appendChild(attack2);

                        var attack3 = document.createElement("button");
                        attack3.setAttribute('id','attack');
                        attack3.setAttribute('onclick', 'attackScreen(3);');
                        attack3.innerHTML = "Attack land 3!";
                        container.appendChild(attack3);

                    } else if(role === "user_group1" || role === "user_group2" || role === "user_group3"){

                        var log = document.createElement("div");
                        log.setAttribute('id','log');
                        var profile = document.createElement("div");
                        profile.setAttribute('id', 'profile');
                        var userimage = document.createElement("img");
                        userimage.setAttribute('id', 'playerimg');
                        var textbox = document.createElement("div");
                        textbox.setAttribute('id','textbox');
                        textbox.innerHTML = "Attack Grinch with snowballs! It's better to hide when Grinch is near you. If you don't hide and then loose a hat, you'll be over! ";
                        
                        profile.appendChild(userimage);
                        log.appendChild(profile);
                        log.appendChild(textbox);
                        container.appendChild(log)

                        var attack = document.createElement("div");
                        attack.setAttribute('id','attack');
                        // attack.setAttribute('onclick', 'attackPressed(1);');
                        attack.innerHTML = "Attack!";
                        container.appendChild(attack);

                        //var timer = setInterval(function() { attackPressed(1); },100);

                        var hide = document.createElement("div");
                        hide.setAttribute('id','hide');
                        // hide.setAttribute('onclick', 'hidePressed(1);');
                        hide.innerHTML = "Hide!";
                        container.appendChild(hide);
                        
                        dojoInit();
                    
                    }

            };
            
            function attackScreen(_section){

                //socket.emit('alert', {section: _section});
               socket.emit('kill', {section: _section});
               socket.emit('killUsers', {section: _section});

            };


            function attackPressed(_section){
                socket.emit('attack', {id: id, section: _section});
            };


            function hidePressed(_section){
                socket.emit('hide', {id: id, section: _section});
            };


            function attack(){

                var easing = 0.2;
                for(var i = 0; i < playerList.length; i++){

                    if(playerList[i].attack === true){
                        dx = playerList[i].tx - playerList[i].bx;
                        if(Math.abs(dx)>1){
                            playerList[i].bx += dx * easing; 
                        } 
                                
                        dy = playerList[i].ty - playerList[i].by;
                        if(Math.abs(dy)>1){
                            playerList[i].by += dy * easing; 

                            playerList[i].r++;

                        } 
                        if(Math.abs(dx)<1 || Math.abs(dy)<1){
                            if(playerList[i].section == 1){
                                playerList[i].bx = playerList[i].x+45;
                                playerList[i].by = playerList[i].y+45;
                                playerList[i].r = 10;
                                playerList[i].attack = false;
                                changeUrl(playerList[i].id);
                            } else if(playerList[i].section == 3){
                                playerList[i].bx = playerList[i].x-3;
                                playerList[i].by = playerList[i].y+40;
                                playerList[i].r = 10;
                                playerList[i].attack = false;
                                changeUrl(playerList[i].id);
                            }else{
                                playerList[i].bx = playerList[i].x+19;
                                playerList[i].by = playerList[i].y+55;
                                playerList[i].r = 10;
                                playerList[i].attack = false;
                                changeUrl(playerList[i].id);
                            }
                        }   

                    }                                        
               
                }

            }

            function changeUrl(data){

                for(var i =0; i<playerList.length; i++){
                    if(playerList[i].id == data && playerList[i].section == data.section){
                        var currentPlayer = document.getElementById(playerList[i].id);
                        currentPlayer.src = playerList[i].standingurl;

                    }
                }
            };


            function hide(){
                var easing = 0.08;
                for(var i = 0; i< playerList.length; i++){
                    //var originalY = playerList[i].y;
                    if(playerList[i].hide === true){
                        
                        dy2 = playerList[i].yPosTarget - playerList[i].y;
                        if(Math.abs(dy2)>1){
                            playerList[i].y += dy2 * easing;
                            playerList[i].by += dy2 * easing; 

                        } else{
                            if(playerList[i].section == 3){
                                playerList[i].y = playerList[i].y-70;
                                playerList[i].by = playerList[i].y+40;
                                playerList[i].hide = false;
                                socket.emit('hideTrigger', {id: playerList[i].id, section: playerList[i].section});
                            }else{
                                playerList[i].y = playerList[i].y-70;
                                playerList[i].by = playerList[i].y+55;
                                playerList[i].hide = false;
                                socket.emit('hideTrigger', {id: playerList[i].id, section: playerList[i].section});
                            }

                            
                        }
                    }
                }

            };

                    
            function init(){

                document.getElementById("viewport").style.display = "block";

                ballctx = document.getElementById("ballcanvas").getContext('2d');
           
                if(screenNum === 1){
                    
                    //bottom layer--------------------------------------------------------------------
                    $("#bottombg").append('<div id = "bottombg-s1"></div>');
                    $("#urlplate").append('<div id = "urlplate-s1"><img src ="http://itp.nyu.edu/~jj1357/grinch_bg/screen1url.png" alt="" width="455px" height="250px"/></div>'); 
                    
                    //middle layer-------------------------------------------------------------------- 
                    $("#firstlineobj").append('<div id= "middleobj1-s1"></div>');      
                    $("#secondlineobj").append('<div id = "middleobj2-s1"></div>');  
                    $("#thirdlineobj").append('<div id = "middleobj3-s1"></div>');               
             
                    //top layer-------------------------------------------------------------------- 
                    $("#topbg").append('<div id= "topbg-s1"></div>');      
                   

                }else if(screenNum === 2){
                    
                    //bottom layer--------------------------------------------------------------------
                    $("#bottombg").append('<div id= "bottombg-s2"></div>');  
                   
                    //middle layer-------------------------------------------------------------------- 
                    $("#firstlineobj").append('<div id= "middleobj4-s2"></div>');      
                    $("#secondlineobj").append('<div id = "middleobj5-s2"></div>');  
                    $("#thirdlineobj").append('<div id = "middleobj6-s2"></div>');      

                    //top layer-------------------------------------------------------------------- 
                    $("#topbg").append('<div id= "topbg-s2"></div><div id = "urlplate-s2"><img src ="http://itp.nyu.edu/~jj1357/grinch_bg/screen2url.png" alt="" width="455px" height="250px"/></div>');              

                }else if(screenNum === 3){

                    
                    //bottom layer--------------------------------------------------------------------
                    $("#bottombg").append('<div id= "bottombg-s3"></div>'); 
                    $("#urlplate").append('<div id = "urlplate-s3"><img src ="http://itp.nyu.edu/~jj1357/grinch_bg/screen3url.png" alt="" width="455px" height="250px"/></div>');
                   
                    //middle layer-------------------------------------------------------------------- 
                    $("#firstlineobj").append('<div id= "middleobj7-s3"></div>');      
                    $("#secondlineobj").append('<div id = "middleobj8-s3"></div>');  
                    
                    //top layer-------------------------------------------------------------------- 
                    $("#topbg").append('<div id= "topbg-s3"></div>');      
                                        
                }

            WIDTH = 3840;
            HEIGHT = 1080;

            draw();


            };

            var getPlayerData = function(screenNum, data){

                var tempUrl, tempIndex, tempRole, tempSection, tempTop, tempLeft, tempWidth, tempHeight = null;

                if(screenNum == 1){
                    characterDic1[data.index-1].id = data.id;
                    playerList.push(characterDic1[data.index-1]);
                    tempUrl = characterDic1[data.index-1].standingurl;
                    tempRole = data.role;
                    tempLeft = characterDic1[data.index-1].x;
                    tempTop = characterDic1[data.index-1].y;
                    tempWidth = characterDic1[data.index-1].w;
                    tempHeight = characterDic1[data.index-1].h;
                    tempIndex = characterDic1[data.index-1].index;
                    tempSection = characterDic1[data.index-1].section;

                }else if(screenNum == 2){
                    characterDic2[data.index-1].id = data.id;
                    playerList.push(characterDic2[data.index-1]);
                    tempUrl = characterDic2[data.index-1].standingurl;
                    tempRole = data.role;
                    tempLeft = characterDic2[data.index-1].x;
                    tempTop = characterDic2[data.index-1].y;
                    tempWidth = characterDic2[data.index-1].w;
                    tempHeight = characterDic2[data.index-1].h;
                    tempIndex = characterDic2[data.index-1].index;
                    tempSection = characterDic2[data.index-1].section;


                }else if (screenNum == 3){
                    characterDic3[data.index-1].id = data.id;
                    playerList.push(characterDic3[data.index-1]);
                    tempUrl = characterDic3[data.index-1].standingurl;
                    tempRole = data.role;
                    tempLeft = characterDic3[data.index-1].x;
                    tempTop = characterDic3[data.index-1].y;
                    tempWidth = characterDic3[data.index-1].w;
                    tempHeight = characterDic3[data.index-1].h;
                    tempIndex = characterDic3[data.index-1].index;
                    tempSection = characterDic3[data.index-1].section;


               }   

                var tempData = { id : data.id, section : tempSection, index : tempIndex, role : tempRole, url : tempUrl, top : tempTop, left : tempLeft, width : tempWidth, height: tempHeight };
                socket.emit("renderPlayerImage", tempData);        
                            
            };

            var drawBall = function(){

                console.log();
                console.log("drawBall called");
                console.log();

                ballctx.clearRect(0,0,WIDTH,HEIGHT);

                var snowImage = new Image();
                //snowImage.src = snowball;
                for(var i =0; i<playerList.length; i++){
                
                    console.log();
                    console.log(playerList[i].bx, playerList[i].by);
                    console.log();
                

                    if(playerList[i].killed === false){
                        if(playerList[i].by>670){
                            console.log();
                            console.log("smashed");
                            console.log();
                
                            snowImage.src = smashed;
                            ballctx.drawImage(snowImage, playerList[i].bx, playerList[i].by, 200, 200);
                        } else{
                            snowImage.src = snowball;
                            ballctx.drawImage(snowImage, playerList[i].bx, playerList[i].by, playerList[i].r*2, playerList[i].r*2);
                            console.log();
                            console.log("snowball");
                            console.log();
                
                        } 
                    }
                        
                }
            
            };

            var draw = function(){

                requestAnimationFrame(draw);
                attack();
                //hide();
                drawBall();
                bgisrendered = true;
            
            };

            function gameOver(){

                if(hideOn === false){

                    var textbox = document.getElementById("textbox");
                    textbox.innerHTML = "Game Over! Grinch has sucked your hat out!";
                    var img = document.getElementById("playerimg");
                    var attackGui = document.getElementById("attack");
                    var hideGui = document.getElementById("hide");
                    document.getElementById("container").removeChild(attackGui); 
                    document.getElementById("container").removeChild(hideGui);
                    document.getElementById("profile").removeChild(img);

                }

            };

            function killUsers(){

                var flyinghats = document.createElement("div");
                flyinghats.setAttribute('id','hats');
                document.body.appendChild(flyinghats);
                $('#hats').append('<img src = "http://itp.nyu.edu/~jj1357/animation/hats.png" width = "3840" />');
                setTimeout(function(){$('#hats').remove();},1000);
                for(var i =0; i<playerList.length; i++){
                    if(playerList[i].killed === false){
                        if(playerList[i].hide === false && grinchAttack == true){
                            playerList[i].killed = true;
                            numKilled++;
                            console.log("stolen hats: " + numKilled);
                        }
                    }
                }
                grinchAttack = false;
                //backUsers();

            };

                      

                        
                </script>
        </head>
        <body>

            <div id="viewport" style = "display:none" >
                <div id="bottombg"></div>
                <div id="urlplate"></div>
                <div id= "firstlineplayer"></div>
                <div id="firstlineobj"></div>
                <div id= "secondlineplayer"></div>
                <div id="secondlineobj"></div>
                <div id= "thirdlineplayer"></div>
                <div id="thirdlineobj"></div>
                <canvas id = "ballcanvas"></canvas>
                <div id = "topbg"></div>
            </div>

        </body>
</html>